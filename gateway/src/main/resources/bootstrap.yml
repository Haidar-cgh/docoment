spring:
  profiles:
    active: dev
  cloud:
    gateway:
      routes:
        - id: gallery
          uri: lb://gallery
          predicates:
            - Path=/gallery/**
          filters:
            - StripPrefix=1
        - id: login
          uri: lb://login
          predicates:
            - Path=/login/**
          filters:
            - StripPrefix=1
#            - RewritePath=/user/(?<segment>.*),/$\{segment}
springdoc:
  swagger-ui:
    disable-swagger-default-url: true
  webjars:
    # 设置为空，不要前缀，不配置这个就需要多加一层路径`/webjars`->`http:host:网关ip/webjars/swagger-ui/index.html`
    prefix:
knife4j:
  # 聚合swagger文档
  gateway:
#    routes:
#      - name: login
#        url: /login/v3/api-docs?group=default
#        service-name: login
#        order: 2
#      - name: gallery
#        url: /gallery/v3/api-docs?group=default
#        service-name: gallery
#        order: 3
    enabled: true
    tags-sorter: order
    operations-sorter: order
    strategy: discover
    discover:
      service-config:
        login:
          - group-name: 用户服务
            order: 2
      excluded-services:
#        - login.*
